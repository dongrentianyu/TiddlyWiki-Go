# 更新日志

## v3.3.0 - 2025-10-29

### 🐛 问题修复

- **修复分类筛选失效问题**：

  - 统一使用 `__NONE__` 标识符处理"未分类"和"无标签"的筛选
  - 确保筛选按钮点击后正确传递筛选条件
  - 修正 FilterPanel2 和 App 主组件之间的数据传递

- **修复标签筛选失效问题**：

  - 修复筛选界面的标签选择无法正确应用的问题
  - 改进筛选逻辑，确保多标签筛选正常工作

- **修复选择文件夹导致应用退出的问题**：
  - 添加 panic 恢复机制
  - 改进错误处理逻辑
  - 正确处理用户取消选择的情况
  - 避免在用户取消时显示错误提示

### 🔧 技术改进

- 统一使用 `__NONE__` 作为特殊标识符，区分正常的用户输入和系统标识
- 增强错误处理和日志记录
- 改进用户体验，避免不必要的错误提示

### 📦 构建

- 版本号：v3.3.0
- 输出文件名：`TiddlyWiki-Manager-win64-v3.3.0.exe`
- 构建时间：~10 秒
- Wails 版本：v2.10.2

---

## v1.8.0 - 2025-10-27

### 📋 版本说明

v1.8.0 是一个**过渡版本**，包含版本号更新和基础优化。

### ✅ 已实现

- 版本号更新到 1.8.0
- 继承 v1.7.0 所有功能
- 代码结构优化

### ⏳ 计划功能（将在 v1.9.0/v2.0.0 实现）

根据用户反馈，以下功能需要更多开发时间：

1. **筛选独立页面** → v1.9.0
2. **多样化展示** → v1.9.0
3. **端口扫描** → v2.0.0
4. **多窗口支持** → v2.0.0

详见 `DEVELOPMENT_STATUS_v1.8.md` 和 `ROADMAP_v1.8.md`

### 📦 构建

- 版本号：v1.8.0
- 输出文件名：`TiddlyWiki-Manager-win64-v1.8.0.exe`
- 构建时间：7.812 秒

---

## v1.7.0 - 2025-10-27

### ✨ 重要改进

- **创建 Wiki 自动添加** ⭐:
  - 创建 TiddlyWiki 后自动添加到管理器
  - 自动检查并创建 tiddlers 文件夹
  - 默认端口 8080，可后续编辑
  - 友好的成功提示信息

### 🔧 技术改进

- `CreateNewWiki` 返回 wiki 路径
- 自动添加到 storage
- 确保 tiddlers 文件夹存在

### 📦 构建

- 版本号：v1.7.0
- 输出文件名：`TiddlyWiki-Manager-win64-v1.7.0.exe`
- 构建时间：7.878 秒

---

## v1.6.0 - 2025-10-27

### 🐛 重要修复

- **端口占用检测** ⭐:
  - 启动 TiddlyWiki 前检测端口是否被占用
  - 如果端口被占用，显示友好的错误提示
  - 避免启动冲突和端口问题

### ✨ 新功能

- **独立筛选页面** 🔍:

  - 筛选功能从侧边栏移至独立的模态页面
  - 更大的空间展示分类和标签
  - 网格布局支持大量分类和标签
  - "应用筛选"和"清除筛选"按钮

- **标签和分类可点击筛选** 🏷️:
  - Wiki 卡片上的标签可点击直接筛选
  - 分类徽章可点击直接筛选
  - 点击后自动打开筛选页面
  - 悬停效果提示可点击

### 🎨 界面优化

- **移除侧边栏** 📐:

  - 采用全宽布局，更多空间展示 Wiki
  - Header 显示 Wiki 数量统计
  - 更简洁的界面设计

- **按钮布局优化** 🔘:

  - 所有按钮改为两列平均布局
  - 添加文字说明（不再只有图标）
  - 统一圆角样式（6px）
  - 更清晰的功能识别
  - 例如：📂 文件夹、💻 VSCode、🐙 GitHub

- **筛选页面设计** 🎨:
  - 网格布局展示分类和标签
  - 选中项高亮显示（紫色渐变）
  - 搜索框更大更明显
  - 底部操作按钮

### 🔧 技术改进

- 新增 `services/port_checker.go` - 端口检测服务
- `IsPortAvailable()` - 检查端口是否可用
- 优化错误提示信息为中文
- 改进组件 props 传递

### 📦 构建

- 版本号：v1.6.0
- 输出文件名：`TiddlyWiki-Manager-win64-v1.6.0.exe`
- 构建时间：8.856 秒

---

**查看详细变更**: 参见各版本的 RELEASE 文件
